{% extends "base.html" %}
{% block title %}Templates{% endblock %}

{% block content %}
{% include "includes/banner.html" %}

<!--Form to upload template file-->
<form method="POST">
    <div>
        <label for="template_file">Upload New Template</label>
        <input type="file" id="template_file" name="template_file" required>
        <label for="template_name">Template Name</label>
        <input type="text" id="template_name" name="template_name" required>
        <div>
            <label for="Restaurant">Restaurant</label>
            <select id="restaurant" name="restaurant" required>
                {% for restaurant in current_user.restaurants %}
                    <option value="{{ restaurant.id }}">{{ restaurant.name }}</option>
                {% endfor %}
            </select>
        </div>
        <div>
            <label for="category">Category</label>
            <select id="category" name="category" required>
                <option value="">Select a category</option>
                {% for category in categories %}
                <option value="{{ category }}">{{ category }}</option>
                {% endfor %}
            </select>
        </div>
    </div>
    <button type="submit">Upload</button>
</form>
<h1>Templates</h1>
<!--List of templates-->
{% if not templates %}
    <div>No documents found for this restaurant.</div>
{% endif %}
<div>
    {% for template in templates %}
    <div>
        <div>
            <div>
                <h5>{{ template.name }}</h5>
                <p>
                    <small>Created by: {{ template.author }}</small>
                </p>
                <a href="{{ url_for('templates.view_template', template_id=template.id) }}">View</a>
            </div>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}
